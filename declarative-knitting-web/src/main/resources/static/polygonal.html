<!DOCTYPE html>
<html>
<head>
    <title>Declarative Knitting</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css"
          href="/webjars/bootstrap/3.0.3/css/bootstrap.min.css"/>
</head>
<body>
<script type="text/javascript"
        src="/webjars/jquery/2.0.3/jquery.min.js"></script>
<div id="navbar" class="navbar navbar-default" role="navigation">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse"
                data-target=".navbar-collapse">
            <span class="icon-bar"></span> <span class="icon-bar"></span> <span
                class="icon-bar"></span>
        </button>
        <a class="navbar-brand"
           href="/">Declarative Knitting
        </a>
    </div>
    <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
            <li><a href="https://geekknitting.blogspot.co.uk/"> Blog </a></li>
        </ul>
        <ul class="nav navbar-nav">
            <li><a href="https://github.com/griffiths-hugh-git/declarative-knitting"> Github </a></li>
        </ul>
        <ul class="nav navbar-nav">
            <li><a href="https://www.ravelry.com/projects/Jhadur"> Ravelry </a></li>
        </ul>
    </div>
</div>
<div class="container">
    <div class="jumbotron">
        <h1>Polygonal Images</h1>
        <p>Knit images into polygons in the round.</p>
    </div>
    <div>
        <p>This tool takes an image and creates a pattern to knit this over a pattern of increases giving a polygon
            shape - whether it's a square, a triangle, or something more exotic.
            <a href="https://www.ravelry.com/projects/Jhadur/hexagonal-doilies">Here is</a> a sample I made to test
            this!
        </p>
        <p>It works by segmenting the image into a small number of colours, then creating a pattern of increases to
            produce the requested polygon. It then maps the locations of each of the stitches onto the image to decide
            the appropriate colour. The pattern is then converted into a spread sheet and downloaded by your browser.
        </p>
        <p>This will work best for images with a small number of colours, so there isn't a lot of carrying floats
            required. The pattern ends when the outermost row touches the edge of the image, so if you want to knit the
            whole image, you may need to add some padding around the edges to make sure it is all included.
        </p>
        <p>As with the shadow knitting tool, please be patient with the error handling - I've tried to keep this
            flexible, which makes some errors unavoidable. If your original image fails, please try a different image.
        <div class="row">
            <div class="col-md-8">
                <form action="/rest/polygonal" method="get" action="_blank">
                    <div class="form-group">
                        <label for="imageUrlBox">Image URL</label>
                        <input type="text" name="imageUrl" class="form-control" id="imageUrlBox"
                               aria-describedby="imageUrlHelp"
                               onClick="this.select();"
                               onBlur="$('#img-preview-box').attr('src',$('#imageUrlBox').val());"
                               value="https://1.bp.blogspot.com/-yA4PKR_17fw/WwvsyumzcTI/AAAAAAAAA8o/o6EU_udlUEAG_rS0EULIFv5t3hdEPc40gCLcBGAs/s1600/original.jpg">
                        <small id="imageUrlHelp" class="form-text text-muted">Enter the URL of an image to knit. This
                            should be a direct link, and must end with a file extension (e.g. .jpg)
                        </small>
                    </div>
                    <div class="form-group">
                        <label for="rowsBox">Number of rows</label>
                        <input type="text" name="numRows" class="form-control" id="rowsBox" aria-describedby="rowsHelp"
                               onClick="this.select();"
                               value="50">
                        <small id="rowsHelp" class="form-text text-muted">Enter the number of rows to knit. Maximum of
                            300.
                        </small>
                    </div>
                    <div class="form-group">
                        <label for="sidesBox">Number of sides</label>
                        <input type="text" name="numSides" class="form-control" id="sidesBox"
                               aria-describedby="sidesHelp" onClick="this.select();"
                               value="5">
                        <small id="sidesHelp" class="form-text text-muted">Enter the number of sides the polygon should
                            have. Between 3 and 12.
                        </small>
                    </div>
                    <div class="form-group">
                        <label for="coloursBox">Number of colours</label>
                        <input type="text" name="numColours" class="form-control" id="coloursBox"
                               aria-describedby="coloursHelp" onClick="this.select();"
                               value="4">
                        <small id="widthHelp" class="form-text text-muted">Enter the number of colours to use. Maximum
                            of 10.
                        </small>
                    </div>
                    <button type="submit" class="btn btn-primary">Submit</button>
                </form>
            </div>
            <div class="col-md-4">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <img id="img-preview-box" style="max-width:100%"
                             src="https://1.bp.blogspot.com/-yA4PKR_17fw/WwvsyumzcTI/AAAAAAAAA8o/o6EU_udlUEAG_rS0EULIFv5t3hdEPc40gCLcBGAs/s1600/original.jpg">
                    </div>
                </div>
                <div class="panel-footer">Image preview</div>
            </div>
        </div>
    </div>
</div>
</div>
<script type="text/javascript"
        src="/webjars/bootstrap/3.0.3/js/bootstrap.min.js"></script>
</body>
</html>
